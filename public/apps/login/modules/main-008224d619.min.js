define(["knockout","Super","Tools"],function(e,s,a){return function(r){var n=s.call(this,r);n.username=e.observable("").extend({required:{params:!0,message:"请填写用户名"},minLength:{params:4,message:"用户名至少四个字符"},maxLength:{params:20,message:"用户名最大长度为30个字符"},required:{params:!0,message:"请输入用户名"}}),n.password=e.observable("").extend({required:{params:!0,message:"请输入密码"}}),n.errors=e.validation.group(n),n.login=function(){return n.errors().length>0?(n.errors.showAllMessages(),!1):void a.ajax({url:"/login",data:{username:n.username(),password:n.password()},success:function(e){console.log(e),e.success&&(location.href="/")}})},n.data.test&&(main=n)}});