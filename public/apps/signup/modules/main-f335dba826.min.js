define(["knockout","Super","Tools"],function(e,s,a){return function(r){var n=s.call(this,r);n.username=e.observable("").extend({required:{params:!0,message:"请填写用户名"},minLength:{params:4,message:"用户名必须大于4个字符"},maxLength:{params:20,message:"用户名不能长于20个字符"},pattern:{params:/^[A-Za-z0-9]+$/,message:"用户名只能由字母和数字构成"}}),n.password=e.observable("").extend({required:{params:!0,message:"请填写密码"},minLength:{params:4,message:"密码必须大于4个字符"},maxLength:{params:20,message:"密码不能长于20个字符"},pattern:{params:/^[A-Za-z0-9]+$/,message:"密码只能由字母和数字构成"}}),n.checked=e.observable(!0),n.errors=e.validation.group(n),n.submit=function(){return n.errors().length>0?(n.errors.showAllMessages(),!1):void a.ajax({url:"/signup",data:{username:n.username(),password:n.password()},success:function(e){console.log(e),e.success&&(alert(e.message),location.href="/")}})},n.data.test&&(main=n)}});